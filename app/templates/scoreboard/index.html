<html>
<head>
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/generic.css">
    <link rel="stylesheet" href="styles.css">
    <script src="/lib/jquery.js"></script>
</head>
<body>

<div class="screen">
<div class="dialog scoreboard-container">
    <table>
        <tr>
            <td class='sb-team-name' id="homeTeamName"></td>
            <td class='sb-team-sets' id="homeTeamSets"></td>
            <td class='sb-team-points' id="homeTeamPoints"></td>
        </tr>
        <tr>
            <td class='sb-team-name' id="awayTeamName"></td>
            <td class='sb-team-sets' id="awayTeamSets"></td>
            <td class='sb-team-points' id="awayTeamPoints"></td>
        </tr>
    </table>
</div>
</div>


</body>
<script>
    var data = JSON.stringify({
        data: {
        homeTeam: {
            name: 'NTNUI',
            sets: 2,
            points: 5
        },
        awayTeam: {
            name: 'Viking',
            sets: 1,
            points: 7
        }
    }});

    function play(str) {
        update(str);
        $('.dialog').fadeIn();
    }

    function update(str) {

        var obj = JSON.parse(str);

        var data = obj.data;

        if (!data) {
            return;
        }

        console.log(data.homeTeam)
        var htInfo = $('<div>').html(data.homeTeam.name).html();
        var atInfo = $('<div>').html(data.awayTeam.name).html();

        if (data.homeTeam.jersey) {
            $('#homeTeamName').addClass('jersey-fit').addClass('jersey').addClass('jersey-' + data.homeTeam.jersey.player);
        }

        if (data.awayTeam.jersey) {
            $('#awayTeamName').addClass('jersey-fit').addClass('jersey').addClass('jersey-' + data.awayTeam.jersey.player);
        }
        
        $('#homeTeamName').html(data.homeTeam.name);
        $('#awayTeamName').html(data.awayTeam.name);

        $('#homeTeamSets').html(data.homeTeam.sets);
        $('#awayTeamSets').html(data.awayTeam.sets);

        $('#homeTeamPoints').html(data.homeTeam.points);
        $('#awayTeamPoints').html(data.awayTeam.points);
    }

    function remove() {
        // Animate away to the bottom:
        $('.dialog').fadeOut();
    }

/*

    setTimeout(function () {
        update(data);
    }, 2);
*/

</script>
</html>